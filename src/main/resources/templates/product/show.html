<!DOCTYPE html>
<html lang="ua" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Show product</title>
</head>
<body>
<div style="display: flex; justify-content: space-between;">
    <div>
        <a style="font-weight: bold;">DevMarket</a>
    </div>
    <div>
        <a href="/index">Головна</a>
        <a href="/product">Продукти</a>
        <a href="/profile">Профіль</a>
    </div>
    <div>
        <form th:action="@{/logout}" th:method="POST">
            <input type="submit" value="Вийти"/>
        </form>
    </div>
</div>
<hr/>


<p th:text="'Назва: ' + ${product.getName()}">name</p>
<p th:text="'Опис: ' + ${product.getDescription()}">description</p>
<p th:text="'Ціна: ' + ${product.getPrice()} + ' Eth'">price</p>

<form th:action="@{/product/{id}/buy(id=${product.getId()})}" th:method="GET">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
    <input type="submit" value="Перейти на сторінку оплати"/>
</form>

<form th:if="${role == 'ROLE_ADMIN'}" th:action="@{/product/{id}/edit(id=${product.getId()})}" th:method="GET">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
    <input type="submit" value="Змінити продукт"/>
</form>

<form th:if="${role == 'ROLE_ADMIN'}" th:action="@{/product/{id}(id=${product.getId()})}" th:method="DELETE">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
    <input type="submit" value="Видалити продукт"/>
</form>

</body>
</html>